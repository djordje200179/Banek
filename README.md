# Banek

The programming language of the future. It is a dynamically typed language
with a syntax mixing the best of Rust, Go, JS, Python and C.

The language is still in development and is not ready for production use.
It was made as a hobby project, and it will be updated whenever I have time
and motivation to add new features.

## Toolchain

Every part of the toolchain is written in Go. So my language depends on
Go runtime and its standard library.

### Interpreter
The interpreter is used for running Banek programs without compiling them
or for running the REPL. Executing a program with the interpreter is
slower than executing the bytecode with the emulator.

### Compiler
The compiler is used for compiling Banek programs to bytecode. The bytecode
can then be run by the emulator. It does not perform any optimizations yet.

### Emulator
The emulator is used for running Banek bytecode. It is pretty fast, but
the bottleneck is the Go runtime.

### Disassembler
The disassembler is used for disassembling Banek bytecode. It is useful
for inspecting the generated bytecode.


## Features

### Variables

#### Types
Banek is a dynamically typed language, meaning that the type of variable
is not known until runtime. The following types are supported:
- booleans
- integers
- strings
- arrays
- functions
- `undefined` constant 

```banek
let num = 1;
let str = "Hello, world!";
let arr = [1, 2, 3];
let fn = fn() {
    return 1;
};
```

#### Mutability
Variables are declared with either `let` or `const`. `let` is used for
variables that can be reassigned, while `const` is used for variables that
cannot be reassigned.

```banek
let a = 1;
const b = 2;
```

#### Visibility
Variables have block scope. This means that variables declared inside a block
are not accessible outside of that block.

```banek
let a = 1;
{
    let b = 2;
}
// b is not accessible here
```

### Functions

#### Built-in functions
Few functions are built-in to the language. These are needed for
interacting with the outside world and for more complex operations.

- `print` - Prints the given value to the console
- `len` - Returns the length of the given array
- `str` - Converts the given value to a string

```banek
print("Hello, world!");
print(len([1, 2, 3])); // Prints 3
```

#### Visibility

Functions are declared either by statements or as lambda expressions.
When declared as a statement, keyword `function` and the name of the function
is used. When declared as a lambda expression, the keyword `fn` is used.

```banek
function foo() {
    return 1;
}

let bar = fn() {
    return 2;
};
```

#### Closure

Functions can access and capture variables from the outer scope. 

```banek
function foo() {
    let a = 1;
    return fn() {
        return a;
    };
}

let bar = foo();
print(bar()); // Prints 1
```


#### Values

Functions are first-class citizens, meaning that they can be passed as
any other value.

```banek
function getter() {
    return 1;
}

function foo(getter) {
    print(getter());
}
```

#### Arguments

Functions can take any number of arguments. Arguments are declared inside
parentheses after the function name.

If a function is called with too few arguments, the missing arguments are
set to `undefined`. If a function is called with too many arguments, the extra
arguments are ignored.

```banek
function foo(a, b) {
    return a + b;
}
```

### Operators

#### Arithmetic operators
All the basic arithmetic operators are supported. They not only work 
with numbers, but some of them also work with strings and arrays.

```banek
print(1 + 2); // Prints 3
print("Hello, " + "world!"); // Prints "Hello, world!"
print([1, 2] + [3, 4]); // Prints [1, 2, 3, 4]
```

#### Comparison operators
Comparison operators are used to compare two values. They return a boolean
value depending on the result of the comparison.

Every value can be compared to every other value for equality. 
However, only integers and strings can be compared for ordering.

```banek
print(1 == 2); // Prints false
print(1 != "1"); // Prints true
print(1 < 2); // Prints true
```

### Control flow

#### If statements
If statements are used to execute a block of code conditionally, like
in most other languages. Brackets are not needed around the condition.
The alternative branch is optional.

```banek
if 1 == 2 then {
    print("1 is equal to 2");
} else {
    print("1 is not equal to 2");
}
```

Also, if statements can be used as expressions. In this case, the
alternative branch is mandatory.

```banek
let a = if 1 == 2 then "same" else "different";
```

#### While loops
While loops are used to execute a block of code repeatedly until a
condition is met. Brackets are not needed around the condition.

```banek
let i = 0;
while i < 10 then {
    print(i);
    i = i + 1;
}
```

